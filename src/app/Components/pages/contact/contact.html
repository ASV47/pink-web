<main class="main">
  <section class="section banner-500">
    <div class="box-cover-image wow fadeInUp"></div>
    <div class="box-banner-info wow bounceIn">
      <p class="overline-t2-medium text-uppercase primary-navy mb-10">
        {{ 'contact.banner.overline' | translate }}
      </p>
      <h2 class="color-primary-dark mb-30">
        {{ 'contact.banner.title_line1' | translate }}
        <br class="d-none d-lg-block" />
        {{ 'contact.banner.title_line2' | translate }}
        <br class="d-none d-lg-block" />
        {{ 'contact.banner.title_line3' | translate }}
      </h2>
    </div>
  </section>

  <div class="section block-maps">
    <iframe
      src="https://www.google.com/maps/embed?pb=..."
      width="100%"
      height="550"
      style="border: 0"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
    ></iframe>
    @if (mainContact()?.googleMapUrl) {
      <div class="text-center mt-10">
        <a
          class="btn btn-black"
          [href]="mainContact()?.googleMapUrl"
          target="_blank"
          rel="noopener"
        >
          Open Location
        </a>
      </div>
    }
  </div>

  <section class="section block-form-contact">
    <div class="container">
      <div class="row">
        <div class="col-lg-5 mb-40 wow bounceIn">
          <h4>{{ 'contact.info.address_title' | translate }}</h4>
          <p class="body-p2 neutral-medium-dark mb-45">
            {{ mainContact()?.address }}
          </p>

          <h4 class="mb-20">{{ 'contact.info.contact_title' | translate }}</h4>
          @let c = mainContact();
          @if (c) {
            <p class="body-p2 neutral-medium-dark mb-10">
              <a [href]="'tel:' + c.phone">Tel: {{ c.phone }}</a>
            </p>
          }
          @if (c) {
            <p class="body-p2 neutral-medium-dark mb-45">
              <a [href]="'mailto:' + c.email">{{ c.email }}</a>
            </p>
          }

          <h4 class="mb-15">{{ 'contact.info.hours_title' | translate }}</h4>

          @if (activeWorkingHours().length) {
            <div class="mb-45">
              @for (w of activeWorkingHours(); track w.id) {
                <p class="body-p2 neutral-medium-dark mb-10">
                  <strong>{{ w.dayOfWeek }}</strong
                  >: {{ w.openTime }} - {{ w.closeTime }}
                </p>
              }
            </div>
          } @else {
            <p class="body-p2 neutral-medium-dark mb-45">No working hours available.</p>
          }

          @if (mainContact(); as c) {
            <div class="socials mt-55 justify-content-start">
              @if (c.facebook) {
                <a class="ml-0" [href]="c.facebook" target="_blank" rel="noopener">
                  <img src="/imgs/page/about1/fb.svg" alt="Facebook" />
                </a>
              }

              @if (c.instagram) {
                <a [href]="c.instagram" target="_blank" rel="noopener">
                  <img src="/imgs/page/about1/insta.svg" alt="Instagram" />
                </a>
              }

              @if (c.linkedIn) {
                <a [href]="c.linkedIn" target="_blank" rel="noopener">
                  <img src="/imgs/page/about1/linkedin.svg" alt="LinkedIn" />
                </a>
              }

              @if (c.whatsApp) {
                <a
                  [href]="'https://wa.me/' + normalizeWhatsApp(c.whatsApp)"
                  target="_blank"
                  rel="noopener"
                >
                  <img src="/imgs/page/about1/whatsapp.svg" alt="WhatsApp" />
                </a>
              }
            </div>
          }
        </div>

        <div class="col-lg-7 mb-40 wow bounceIn">
          <h4 class="mb-10">{{ 'contact.form.title' | translate }}</h4>
          <p class="text-16-medium neutral-medium mb-30">
            {{ 'contact.form.subtitle' | translate }}
          </p>
          <form [formGroup]="form" (ngSubmit)="submitMessage()">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="form-group">
                  <input
                    class="form-control"
                    type="text"
                    formControlName="name"
                    placeholder="{{ 'contact.form.name' | translate }}"
                  />
                </div>
              </div>

              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="form-group">
                  <input
                    class="form-control"
                    type="text"
                    formControlName="email"
                    placeholder="{{ 'contact.form.email' | translate }}"
                  />
                </div>
              </div>

              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="form-group">
                  <input
                    class="form-control"
                    type="text"
                    formControlName="phone"
                    placeholder="{{ 'contact.form.phone' | translate }}"
                  />
                </div>
              </div>

              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="form-group">
                  <input
                    class="form-control"
                    formControlName="website"
                    type="text"
                    placeholder="{{ 'contact.form.website' | translate }}"
                  />
                </div>
              </div>

              <div class="col-lg-12">
                <div class="form-group">
                  <textarea
                    class="form-control"
                    formControlName="message"
                    placeholder="{{ 'contact.form.message' | translate }}"
                    rows="6"
                  ></textarea>
                </div>
              </div>
              <input type="hidden" formControlName="subject" />

              <div class="col-lg-12">
                <div class="text-center mt-10">
                  <button
                    class="btn btn-black"
                    type="submit"
                    [disabled]="sending() || form.invalid"
                  >
                    @if (sending()) {
                      Sending...
                    } @else {
                      {{ 'contact.form.submit' | translate }}
                    }
                  </button>

                  @if (sendSuccessMsg()) {
                    <div class="mt-10" style="color: #2e7d32">{{ sendSuccessMsg() }}</div>
                  }
                  @if (sendErrorMsg()) {
                    <div class="mt-10" style="color: #d32f2f">{{ sendErrorMsg() }}</div>
                  }
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</main>
